<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
    <title>Viking File Exporter</title>

    <link rel="stylesheet" href="./alabaster.css" type="text/css" /></link>
    <link rel="stylesheet" href="./pygments.css" type="text/css" /></link>

    <script src="source.js"></script>
</head>

<div class="document">

    <body>

        <h1>Viking File Exporter</h1>

        <p>
            The Viking web services can export files for use in external tools.
        </p>

        <h2>Prerequisites</h2>

        <p>
            For graph visualization we recommend using
            <a href="http://tulip.labri.fr/">Tulip</a> and the TLP file format. We
            also provide .dot files for use with
            <a href="http://www.graphviz.org/">Graphviz</a>.
        </p>

        <h2>Export</h2>

        <p>
            <strong>Volume:</strong>
            <select id="volumeSelect">
                <option value="RC1">RC1</option>
                <option value="RC2">RC2</option>
                <option value="NeitzTemporalMonkey">Neitz Temporal Monkey</option>
                <option value="RPC1">RPC1</option>
                <option value="RC1Marshak">RC1Marshak</option>
                <option value="webdev_RC1Test">RC1Test</option>
            </select>
        </p>

        <p>
            <strong>Report type:</strong>
            <select id="reportTypeSelect" onchange=onReportTypeChanged()>
                <option value="network">Neuron Connectivity Network</option>
                <option value="motifs">Motif Connectivity</option>
                <option value="morphology">Morphology</option>
            </select>
        </p>

        <p id="fileFormat">
            <strong>Export File Format:</strong>
            <select id="formatSelect">
                <option value="tlp">Tulip</option>
                <option value="dot">Graphviz</option>
            </select>
        </p>


        <div id="networkParams">

            <p>
                ID(s) of the cell(s) you wish to visualize. <br />
                Leave blank for all cells. <br />
                Place multiple cell IDs on separate lines or separate with commas. For example: <em>1234, 5678</em> <br />
                Put OData subqueries on separate lines <br />
                <strong>Cell ID(s):</strong>
                <textarea id="networkCellId" type="text" onchange=onNetworkCellIDsChanged() rows="8"></textarea>
                <br />
            </p>

            <p id="hopsP" style="display:none">
                <strong>Hops:</strong>
                <input id="networkHops" type="number" min="0" max="15" value="0"/>
                <br />
                Degrees of seperation to include additional neurons in graph. Zero to include only the specified cells.
            </p>

            <p>
                <b>OR</b> upload a text file containing either ID numbers or OData queries on each line.<br />
                <input id="network_ids_file" type="file" title="Upload text file" /><br />
                <button type="submit" id="submit_network_ids_file" onclick=onSubmitNetworkFileClicked()>Submit File</button><br />
            </p>
        </div>

        <div id="motifParams" style="display:none">

        </div>

        <div id="morphologyParams" style="display:none">
            <p>
                ID(s) of the cell(s) you wish to visualize. <br />
                Leave blank for all cells. <br />
                Place multiple cell IDs on separate lines or separate with commas. For example: <em>1234, 5678</em> <br />
                Put OData subqueries on separate lines <br />
                <strong>Cell ID(s):</strong>
                <textarea id="morphoCellId" type="text"  rows="8"></textarea>
                <br />
            </p>

            <p>
                <b>OR</b> upload a text file containing either ID numbers or OData queries on each line.<br />
                <input id="morpho_ids_file" type="file" title="Upload text file"/>
                <button type="submit" id="submit_morpho_ids_file" onclick=onSubmitMorphoFileClicked()>Submit File</button><br />
            </p>
        </div>

        <p>
            <button type="button" onclick=onSubmitClicked()>Export</button>
        </p>

        <p>
            Status:<br />
            <textarea id="messages" type="text" rows="8" cols="80"></textarea>
        </p>

        <img id="networkImg" src="network.png" /></img>
        <img id="motifImg" src="motif.png" style="display:none" /></img>
        <img id="morphologyImg" src="morphology.png" style="display:none" /></img>

    </body>
</div>

</html>
